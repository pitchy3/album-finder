# =============================================================================
# Album Finder - Environment Configuration (Caddy Version)
# =============================================================================

# Application Configuration
NODE_ENV=production
APP_PORT=3001                    # Port for Caddy to proxy to (first instance)
APP_PORT_2=3011                  # Second instance port (for scaling)
APP_PORT_3=3021                  # Third instance port (for scaling)

DEBUG=false

# ================================
# Timezone Configuration
# ================================
# Set your timezone (use IANA timezone names)
# Examples: America/New_York, Europe/London, Asia/Tokyo, UTC
# Default: UTC (if not specified)
TZ=America/Los_Angeles

# REQUIRED: Generate strong session secret
SESSION_SECRET=run-this:node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# OPTIONAL: API Key for stateless authentication
# Allows programmatic access to all authenticated endpoints without sessions
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# API_KEY=your-secure-api-key-here

# Security settings
COOKIE_SECURE=true  # Set to false ONLY for local dev without HTTPS
ENABLE_CSRF=true    # Enable CSRF in production

# Optional: Require HTTPS for authentication
REQUIRE_HTTPS_AUTH=true

# id
PUID=1000
PGID=1000

# Redis Configuration
REDIS_URL=redis://redis:6379

# Lidarr webhook key, used for marking items in the database as downloaded
LIDARR_WEBHOOK_KEY=replace-with-lidarr-key

# Cache Configuration
CACHE_TTL=36000                    # Cache TTL in seconds (1 hour)
MAX_CACHE_SIZE=1000              # Maximum number of cache entries
MAX_CACHE_MEMORY=100             # Maximum cache memory in MB

# Rate Limiting and Performance
MUSICBRAINZ_DELAY=1000           # Delay between MusicBrainz requests (ms)
MAX_CONCURRENT_REQUESTS=10       # Max concurrent API requests per server
REQUEST_TIMEOUT=30000            # Request timeout in milliseconds

# Monitoring Ports (optional - only needed if using monitoring profile)
REDIS_COMMANDER_PORT=8081        # Redis Commander web interface

REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=secure-password

# =============================================================================
# Development Overrides
# =============================================================================
# Uncomment and modify these for local development:

# NODE_ENV=production
# COOKIE_SECURE=false
# REDIS_URL=redis://localhost:6379
# APP_PORT=3001
# MAX_CONCURRENT_REQUESTS=5
# CACHE_TTL=600
